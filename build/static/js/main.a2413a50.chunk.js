(this["webpackJsonpnotas-colaborativas"]=this["webpackJsonpnotas-colaborativas"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),s=n.n(c),o=(n(105),n(106),n(172)),i=n(175),u=n(46),l=n(181),j=n(185),d=n(186),m=n.p+"static/media/login.a09263cb.svg",b=n.p+"static/media/logopng.709f805c.png",p=n(13),f=n(201),x=n(198),O=n(183),h=n(200),v=n(178),g=n(182),w=n(59),y=n.n(w),N=n(6),k=n.n(N),S=n(11),C=n(14);function R(e){var t=e.type,n=e.defaultValue,a=void 0===n?"":n,c=Object(r.useState)(a),s=Object(C.a)(c,2),o=s[0],i=s[1];return{type:t,value:o,onChange:function(e){i(e.target.value)},resetValue:function(){i("")}}}var U=n(17),I=n.n(U),F=function(){var e=Object(S.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("http://localhost:3001/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=n(2),D=a.a.createContext(),W=function(e){var t=e.children,n=a.a.useState(),r=Object(C.a)(n,2),c=r[0],s=r[1],o=a.a.useState(),i=Object(C.a)(o,2),u=i[0],l=i[1],j=a.a.useState(),d=Object(C.a)(j,2),m=d[0],b=d[1];return Object(T.jsx)(D.Provider,{value:{user:c,setUser:s,view:u,setView:l,token:m,setToken:b},children:t})},V=function(){var e=a.a.useContext(D),t=e.setToken,n=function(e){t("bearer ".concat(e))};return{configureToken:n}},A=n(177),L="http://localhost:3001/api/users",E=function(){return{getUser:Object(r.useMemo)((function(){return Object(S.a)(k.a.mark((function e(){var t,n,r=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,I.a.get("".concat(L,"/search/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))}),[]),registerNewUser:function(){var e=Object(S.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post(L,t);case 2:return e.abrupt("return","response.data");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},P=Object(o.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),z=function(e){var t=P(),n=function(){var e=E().registerNewUser,t=R({type:"text"}),n=R({type:"password"}),a=R({type:"email"}),c=Object(r.useContext)(D).setView;return{username:t,password:n,email:a,onSubmitRegister:function(){var r=Object(S.a)(k.a.mark((function r(s){return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s.preventDefault(),r.next=3,e({username:t.value,email:a.value,password:n.value});case 3:r.sent&&c(Object(T.jsx)(M,{}));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}(),c=n.email,s=n.password,o=n.username,j=n.onSubmitRegister,d=a.a.useContext(D).setView;return Object(T.jsxs)(i.a,{component:"main",maxWidth:"xs",children:[Object(T.jsx)(A.a,{}),Object(T.jsxs)("div",{className:t.paper,children:[Object(T.jsx)(f.a,{className:t.avatar,children:Object(T.jsx)(y.a,{})}),Object(T.jsx)(u.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(T.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:j,children:[Object(T.jsxs)(v.a,{container:!0,spacing:2,children:[Object(T.jsx)(v.a,{item:!0,xs:12,children:Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({},o),{},{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0}))}),Object(T.jsx)(v.a,{item:!0,xs:12,children:Object(T.jsx)(x.a,Object(p.a)({variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address"},c))}),Object(T.jsx)(v.a,{item:!0,xs:12,children:Object(T.jsx)(x.a,Object(p.a)({variant:"outlined",required:!0,fullWidth:!0,label:"Password",id:"password"},s))})]}),Object(T.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(T.jsx)(v.a,{container:!0,justifyContent:"flex-start",children:Object(T.jsx)(v.a,{item:!0,children:Object(T.jsx)(g.a,{onClick:function(e){e.preventDefault(),d(Object(T.jsx)(M,{}))},href:"#",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})},M=function(){var e=Te(),t=function(){var e=R({type:"text"}),t=R({type:"password"}),n=R({type:"checkbox"}),a=V().configureToken,c=Object(r.useContext)(D).setUser;return{username:e,password:t,rememberMe:n,onSubmitLogin:function(){var r=Object(S.a)(k.a.mark((function r(s){var o;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s.preventDefault(),r.next=3,F({username:e.value,password:t.value});case 3:o=r.sent,a(o.token),c(o),n.value&&window.localStorage.setItem("loggedUser",JSON.stringify(o));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}(),n=t.username,c=t.password,s=t.rememberMe,o=t.onSubmitLogin,j=a.a.useContext(D).setView;return Object(T.jsx)(i.a,{component:"main",maxWidth:"xs",children:Object(T.jsxs)("div",{className:e.paper,children:[Object(T.jsx)(f.a,{className:e.avatar,children:Object(T.jsx)(y.a,{})}),Object(T.jsx)(u.a,{component:"h1",variant:"h5",children:"Login"}),Object(T.jsxs)("form",{className:e.form,onSubmit:o,noValidate:!0,children:[Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({variant:"outlined",margin:"normal"},n),{},{required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0})),Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"pasword",label:"Password"},c),{},{autoComplete:"current-password"})),Object(T.jsx)(O.a,Object(p.a)({control:Object(T.jsx)(h.a,{value:"remember",color:"primary"}),label:"Remember me"},s)),Object(T.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Login"}),Object(T.jsx)(v.a,{container:!0,children:Object(T.jsx)(v.a,{item:!0,children:Object(T.jsx)(g.a,{href:"#",onClick:function(e){e.preventDefault(),j(Object(T.jsx)(z,{}))},variant:"body2",children:"Don't have an account? please register"})})})]})]})})},B=function(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(_,{}),Object(T.jsx)(q,{})]})},q=function(){var e=Te(),t=a.a.useContext(D).setView;return Object(T.jsx)("div",{children:Object(T.jsx)(i.a,{className:e.centerInfo,fixed:!0,children:Object(T.jsxs)(i.a,{className:e.centerInfo,children:[Object(T.jsx)(u.a,{style:{marginTop:"30px",fontWeight:"bold"},color:"textPrimary",variant:"h3",children:"Login and Start Using Noted"}),Object(T.jsx)("img",{className:e.imgFrontPage,src:m,alt:""}),Object(T.jsxs)(i.a,{className:e.centerInfo,children:[Object(T.jsx)(l.a,{size:"large",variant:"contained",color:"primary",className:e.loginButtons,onClick:function(e){e.preventDefault(),t(Object(T.jsx)(M,{}))},children:"Please Login"}),Object(T.jsx)(u.a,{className:e.buttonsSubtitle,variant:"caption",color:"textSecondary",children:"If you already have an account"})]}),Object(T.jsxs)(i.a,{className:e.centerInfo,children:[Object(T.jsx)(l.a,{size:"large",variant:"contained",color:"secondary",className:e.loginButtons,onClick:function(e){e.preventDefault(),t(Object(T.jsx)(z,{}))},children:"Register"}),Object(T.jsx)(u.a,{className:e.buttonsSubtitle,variant:"caption",color:"textSecondary",children:"If it's your first time"})]})]})})})},_=function(){var e=a.a.useContext(D).setView,t=Te();return Object(T.jsx)("div",{className:t.root,children:Object(T.jsx)(j.a,{position:"static",children:Object(T.jsxs)(d.a,{children:[Object(T.jsx)("img",{className:t.pngLogo,src:b,alt:""}),Object(T.jsx)(u.a,{variant:"h6",className:t.title,children:"Noted"}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(t){t.preventDefault(),e(Object(T.jsx)(M,{}))},children:"Login"})]})})})},J=function(){var e=a.a.useContext(D),t=e.view,n=e.setView;return Object(r.useEffect)((function(){n(Object(T.jsx)(B,{}))}),[]),Object(T.jsx)("div",{children:t})},G=n(35),H="http://localhost:3001/api/notes";function K(){var e=Object(r.useContext)(D).user,t=function(){var e={headers:{Authorization:a.a.useContext(D).token}},t=function(){var t=Object(S.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("".concat(H,"/room/").concat(n),e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{getAllFromUser:function(){var t=Object(S.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("".concat(H,"/user/").concat(n),e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getAllFromRoom:t,getNote:function(){var t=Object(S.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.get("".concat(H,"/").concat(n),e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),postNote:function(){var t=Object(S.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.post("".concat(H),n,e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),commentNote:function(){var t=Object(S.a)(k.a.mark((function t(n,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("".concat(H,"/comment/").concat(n),r,e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),deleteNote:function(){var t=Object(S.a)(k.a.mark((function t(n){var r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.delete("".concat(H,"/").concat(n),e);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),changeNote:function(){var t=Object(S.a)(k.a.mark((function t(n,r){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.put("".concat(H,"/").concat(n),r,e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}(),n=Object(r.useState)([]),c=Object(C.a)(n,2),s=c[0],o=c[1],i=function(){var e=Object(S.a)(k.a.mark((function e(n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postNote(n),o([].concat(Object(G.a)(s),[n]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(S.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAllFromRoom(n);case 2:r=e.sent,o(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var n=Object(S.a)(k.a.mark((function n(){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getAllFromUser(e.username);case 2:r=n.sent,o(r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),j=function(){var n=Object(S.a)(k.a.mark((function n(r){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.deleteNote(r),n.next=3,t.getAllFromUser(e.username);case 3:a=n.sent,o(a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var e=Object(S.a)(k.a.mark((function e(n,r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.changeNote(n,r),o(s.map((function(e){return e.id===n?r:e})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(S.a)(k.a.mark((function e(n,r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.commentNote(n,r);case 2:o(s.map((function(e){return e.id===n?r:e})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{notes:s,postNewNote:i,getNotesFromUser:l,getNotesFromRoom:u,deleteNote:j,changeNote:d,commentNote:m}}var Q=n(135),X=n(187),Y=n(61),Z=n.n(Y),$=n(88),ee=n.n($),te=function(e){var t=a.a.useState(!1),n=Object(C.a)(t,2),r=n[0],c=n[1],s=a.a.useState(Object(T.jsx)(Z.a,{})),o=Object(C.a)(s,2),i=o[0],u=o[1];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(l.a,{startIcon:i,onClick:function(e){c(!r),u(r?Object(T.jsx)(Z.a,{}):Object(T.jsx)(ee.a,{}))},fullWidth:!0,color:"primary",variant:"contained",children:e.text}),Object(T.jsx)(X.a,{in:r,children:e.children})]})},ne=function(e){var t=e.postNewNote,n=a.a.useContext(D).user,r=Te(),c=R({type:"text"}),s=R({type:"text"}),o=R({type:"date"});return Object(T.jsx)(te,{text:"Add new note",children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)("form",{className:r.newNoteForm,onSubmit:function(e){e.preventDefault();var r={title:c.value,content:s.value,date:o.value,room:n.personalRoom};c.resetValue(),s.resetValue(),o.resetValue(),t(r)},noValidate:!0,children:[Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({fullWidth:!0},c),{},{label:"title",name:"title"})),Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({},s),{},{multiline:!0,fullWidth:!0,label:"Content",name:"Content"})),Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({label:"Date"},o),{},{fullWidth:!0,InputLabelProps:{shrink:!0}})),Object(T.jsx)(l.a,{style:{marginTop:"0.5rem"},fullWidth:!0,type:"submit",variant:"contained",color:"primary",className:r.button,startIcon:Object(T.jsx)(Z.a,{}),size:"large",children:"Add Note"})]})})})},re=function(e){console.log(e.room);var t=K(),n=t.notes,r=t.getNotesFromRoom,c=t.postNewNote,s=a.a.useState([]),o=Object(C.a)(s,2),l=o[0],j=o[1];a.a.useEffect((function(){r(e.room)}),[]),a.a.useEffect((function(){j(n.map((function(e){return Object(T.jsx)(v.a,{item:!0,xs:12,md:6,lg:4,children:Object(T.jsxs)(Q.a,{children:[Object(T.jsx)(u.a,{variant:"h3",children:e.title}),Object(T.jsx)(u.a,{variant:"body1",children:e.content}),Object(T.jsx)(u.a,{variant:"body2",children:e.date})]})},e._id)})))}),[n]);var d=Te();return Object(T.jsx)(i.a,{fixed:!0,className:d.containerDiv,children:Object(T.jsxs)(v.a,{container:!0,justifyContent:"flex-start",spacing:1,alignItems:"center",children:[Object(T.jsx)(v.a,{item:!0,xs:12,md:12,children:Object(T.jsx)(ne,{postNewNote:c})},"newNoteToAdd"),l]})})},ae="http://localhost:3001/api/rooms";function ce(){var e=function(){var e=Object(r.useContext)(D).token,t=Object(r.useMemo)((function(){return{headers:{Authorization:e}}}),[e]);return{getRoomService:Object(r.useMemo)((function(){return function(){var e=Object(S.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat(ae,"/").concat(n),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[t]),getRoomsFromUserService:function(){var e=Object(S.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("".concat(ae,"/"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),postRoomService:function(){var e=Object(S.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("".concat(ae),n,t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),changeRoomService:function(){var e=Object(S.a)(k.a.mark((function e(n,r){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.put("".concat(ae,"/").concat(n),r,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deleteRoomService:function(){var e=Object(S.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.delete("".concat(ae,"/").concat(n),t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}(),t=e.changeRoomService,n=e.deleteRoomService,a=e.getRoomService,c=e.getRoomsFromUserService,s=e.postRoomService,o=Object(r.useState)([]),i=Object(C.a)(o,2),u=i[0],l=i[1],j=Object(r.useMemo)((function(){return function(){var e=Object(S.a)(k.a.mark((function e(n,r){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,{username:r});case 2:return a=e.sent,e.next=5,l(Object(p.a)(Object(p.a)({},u),{},{users:a[0].users}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),[t,u]),d=Object(r.useMemo)((function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t),l([].concat(Object(G.a)(u),[t]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[s,u]),m=function(){var e=Object(S.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Object(r.useMemo)((function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return n=e.sent,l(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[a]),f=function(){var e=Object(S.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),e.next=3,m();case 3:r=e.sent,l(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(S.a)(k.a.mark((function e(n,r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(n,r),l(u.map((function(e){return e.id===n?r:e})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{rooms:u,postNewRoom:d,getRoomsFromUser:m,getRoom:b,deleteRoom:f,changeNote:x,postNewUserToRoom:j}}var se=n(192),oe=n(193),ie=n(194),ue=n(195),le=n(196),je=n(197),de=n(188),me=function(e){var t=e.postNewRoom,n=Te(),r=R({type:"text"}).roomName,a=R({type:"password"}).password;return Object(T.jsx)(i.a,{style:{margin:"1rem auto",textAlign:"center"},children:Object(T.jsx)(Q.a,{style:{width:"85%",margin:"0 auto"},children:Object(T.jsx)(te,{children:Object(T.jsx)("form",{onSubmit:function(e){e.preventDefault(),t({roomName:r.value,password:a.value}),r.resetValue(),a.resetValue()},children:Object(T.jsxs)(v.a,{style:{padding:"0 1rem 1rem"},container:!0,alignItems:"center",alignContent:"flex-start",spacing:2,justifyContent:"center",children:[Object(T.jsx)(v.a,{item:!0,md:6,sm:12,children:Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({margin:"normal"},r),{},{required:!0,fullWidth:!0,label:"Rooms Name",name:"roomName"}))}),Object(T.jsx)(v.a,{item:!0,md:6,sm:12,children:Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({margin:"normal"},a),{},{fullWidth:!0,label:"Room Pass",name:"password"}))}),Object(T.jsx)(v.a,{item:!0,md:12,sm:12,children:Object(T.jsx)(l.a,{style:{marginTop:"0.5rem"},fullWidth:!0,type:"submit",variant:"contained",color:"primary",className:n.button,startIcon:Object(T.jsx)(de.a,{}),size:"large",children:"Create New Room"})})]})})})})})},be=n(199),pe=n(90),fe=n.n(pe),xe=function(e){var t=e.room,n=e.postNewUserToRoom,r=Te(),c=a.a.useState(""),s=Object(C.a)(c,2),o=s[0],j=s[1],d=a.a.useState(""),m=Object(C.a)(d,2),b=m[0],f=m[1],O=a.a.useState([]),h=Object(C.a)(O,2),g=h[0],w=h[1],y=E().getUser,N=function(){var e=Object(S.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(n?[n].concat(Object(G.a)(g)):g),j(t.target.value);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return a.a.useEffect((function(){y(b).then((function(e){var t=[];e&&(t=[].concat(Object(G.a)(t),Object(G.a)(e.map((function(e){return e.username}))))),w(t)}))}),[o,b,y]),Object(T.jsx)("div",{children:Object(T.jsx)(i.a,{style:{padding:"2rem 0 1rem 0"},maxWidth:"sm",children:Object(T.jsx)(Q.a,{style:{padding:"1rem"},children:Object(T.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(t._id,b)},children:Object(T.jsxs)(v.a,{container:!0,alignItems:"center",children:[Object(T.jsx)(v.a,{item:!0,xs:!0,children:Object(T.jsx)(be.a,{options:g,value:b,includeInputInList:!0,onInputChange:function(e,t){f(t)},getOptionLabel:function(e){return e},onChange:N,fullWidth:!0,renderInput:function(e){return Object(T.jsx)(x.a,Object(p.a)(Object(p.a)({size:"small"},e),{},{label:"Add a new user to this room",variant:"standard"}))},renderOption:function(e){return console.info(e),Object(T.jsxs)(v.a,{container:!0,alignItems:"center",children:[Object(T.jsx)(v.a,{item:!0,children:Object(T.jsx)(fe.a,{})}),Object(T.jsx)(v.a,{item:!0,xs:!0,children:Object(T.jsx)(u.a,{variant:"body",color:"textPrimary",children:e})})]})}})}),Object(T.jsx)(v.a,{item:!0,children:Object(T.jsx)(l.a,{fullWidth:!0,color:"primary",type:"submit",variant:"text",className:r.button,startIcon:Object(T.jsx)(de.a,{}),size:"medium",children:"Add"})})]})})})})})},Oe=n(180),he=n(189),ve=n(190),ge=n(191),we=function(e){var t=e.users,n=a.a.useState([]),r=Object(C.a)(n,2),c=r[0],s=r[1];return a.a.useEffect((function(){s(t.map((function(e){return Object(T.jsx)(ye,{user:e},e.id)})))}),[t]),Object(T.jsx)(i.a,{style:{padding:"1rem 0"},children:Object(T.jsx)(te,{text:"Show Users",children:Object(T.jsxs)(Q.a,{style:{padding:"1rem"},variant:"outlined",children:[Object(T.jsx)(u.a,{variant:"h2",children:"Users"}),Object(T.jsx)(v.a,{container:!0,spacing:3,children:c})]})})})},ye=function(e){var t=e.user;return Object(T.jsx)(v.a,{item:!0,sm:12,md:4,lg:3,children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)(Oe.a,{children:[Object(T.jsx)(he.a,{children:Object(T.jsx)(ve.a,{primary:t.username,secondary:"username"})}),Object(T.jsx)(ge.a,{}),Object(T.jsx)(he.a,{children:Object(T.jsx)(ve.a,{primary:t.email,secondary:"email"})})]})})})},Ne=function(e){var t=e.id,n=e.owner,r=ce(),c=r.rooms,s=r.getRoom,o=r.postNewUserToRoom,l=a.a.useContext(D).user,j=(a.a.useContext(D).setView,a.a.useState(!1)),d=Object(C.a)(j,2),m=d[0],b=d[1],p=a.a.useState([]),f=Object(C.a)(p,2),x=f[0],O=f[1],h=a.a.useState(""),v=Object(C.a)(h,2),g=v[0],w=v[1];return a.a.useEffect((function(){s(t).then((function(e){O(e[0].users),w(e[0]._id)})),b(n===l.username)}),[s,t,b,n,l]),a.a.useEffect((function(){c.users&&(O(c.users),console.log(c))}),[c.users]),Object(T.jsxs)("div",{children:[Object(T.jsxs)(i.a,{children:[m?Object(T.jsx)(xe,{room:c[0],postNewUserToRoom:o}):"",m?Object(T.jsx)(we,{users:x}):""]}),Object(T.jsx)(i.a,{style:{padding:"1rem, 0"},children:Object(T.jsx)(te,{text:"Show Notes",children:Object(T.jsxs)(Q.a,{style:{padding:"1rem"},variant:"outlined",children:[Object(T.jsx)(u.a,{variant:"h2",children:"Notes"}),g?Object(T.jsx)(re,{room:g}):""]})})})]})},ke=function(){var e=ce(),t=e.postNewRoom,n=e.rooms,r=e.getRoomsFromUser;return Object(T.jsxs)(i.a,{children:[Object(T.jsx)(me,{postNewRoom:t}),Object(T.jsx)(Se,{rooms:n,getRoomsFromUser:r})]})},Se=function(e){var t=e.rooms,n=e.getRoomsFromUser,a=Object(r.useState)([]),c=Object(C.a)(a,2),s=c[0],o=c[1];return Object(r.useEffect)((function(){n()}),[]),Object(r.useEffect)((function(){o(t.map((function(e){return Object(T.jsx)(Ce,{id:e._id,roomName:e.roomName,owner:e.owner.username,cuantityOfUsers:e.users.length,cuantityOfNotes:e.notes.length},e._id)})))}),[t]),Object(T.jsx)(i.a,{children:Object(T.jsx)(se.a,{component:Q.a,style:{width:"85%",margin:"0 auto"},children:Object(T.jsxs)(oe.a,{children:[Object(T.jsx)(ie.a,{children:Object(T.jsxs)(ue.a,{children:[Object(T.jsx)(le.a,{children:"Room Name"}),Object(T.jsx)(le.a,{children:"Owner"}),Object(T.jsx)(le.a,{children:"Users"}),Object(T.jsx)(le.a,{children:"Notes"})]})}),Object(T.jsx)(je.a,{children:s})]})})})},Ce=function(e){var t=e.id,n=e.roomName,r=e.owner,c=e.cuantityOfUsers,s=e.cuantityOfNotes,o=Te(),i=a.a.useContext(D).setView;return Object(T.jsxs)(ue.a,{className:o.roomTable,onClick:function(e){e.preventDefault(),i(Object(T.jsx)(Ne,{id:t,owner:r}))},children:[Object(T.jsx)(le.a,{children:n}),Object(T.jsxs)(le.a,{children:[" ",r," "]}),Object(T.jsxs)(le.a,{children:[" ",c," "]}),Object(T.jsxs)(le.a,{children:[" ",s," "]})]})},Re=function(e){return Object(T.jsx)("div",{children:Object(T.jsx)(Ue,{children:Object(T.jsx)(re,{room:e.room})})})},Ue=function(e){var t=Te();return Object(T.jsx)(i.a,{className:t.centerInfo,color:"background",children:e.children})},Ie=function(e){var t=a.a.useContext(D),n=t.setUser,r=t.setView,c=t.setToken,s=t.user,o=Te();return Object(T.jsx)("div",{className:o.root,children:Object(T.jsx)(j.a,{position:"static",children:Object(T.jsxs)(d.a,{children:[Object(T.jsx)("img",{className:o.pngLogo,src:b,alt:""}),Object(T.jsx)(u.a,{variant:"h6",className:o.title,children:"Noted"}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){e.preventDefault(),r(Object(T.jsx)(Re,{room:s.personalRoom}))},children:"Notes"}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){e.preventDefault(),r(Object(T.jsx)(ke,{}))},children:"Rooms"}),Object(T.jsx)(l.a,{color:"inherit",onClick:function(e){e.preventDefault(),window.localStorage.removeItem("loggedUser"),n(),c(),r()},children:"Logout"})]})})})},Fe=function(){var e=a.a.useContext(D),t=e.view,n=e.setView,c=e.user;return Object(r.useEffect)((function(){n(Object(T.jsx)(Re,{room:c.personalRoom}))}),[]),Object(T.jsxs)("div",{children:[Object(T.jsx)(Ie,{}),t]})},Te=Object(o.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textShadow:"2px 2px 1px #444"},centerInfo:{margin:"0 auto",textAlign:"center",display:"flex",flexDirection:"column",justifyItems:"center",alignContent:"center",alignItems:"center"},newNoteForm:{padding:"1rem",paddingTop:"0",paddingBottom:"0.5rem"},loginButtons:{width:"50%",minWidth:"200px",marginTop:"10px"},imgFrontPage:{height:"60vh",width:"70%"},pngLogo:{width:"32px",boxShadow:"2px 2px 3px #002884",marginRight:e.spacing(2)},buttonsSubtitle:{fontSize:"14px",margin:"5px"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1),backgroundColor:"whitesmoke"},submit:{margin:e.spacing(3,0,2)},div100:{width:"100%"},containerDiv:{padding:"1rem"},roomTable:{"&:hover":{backgroundColor:"#efefef"}}}})),De=function(){return a.a.useContext(D).user?Object(T.jsx)("div",{children:Object(T.jsx)(Fe,{useStyles:Te})}):Object(T.jsx)(J,{useStyles:Te})};var We=function(){return function(){var e=a.a.useContext(D).setUser,t=V().configureToken;a.a.useEffect((function(){var n=JSON.parse(window.localStorage.getItem("loggedUser"));n&&t(n.token),e(n)}),[])}(),Object(T.jsx)("div",{children:Object(T.jsx)(De,{})})},Ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,202)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(T.jsx)(a.a.StrictMode,{children:Object(T.jsx)(W,{children:Object(T.jsx)(We,{})})}),document.getElementById("root")),Ve()}},[[134,1,2]]]);
//# sourceMappingURL=main.a2413a50.chunk.js.map